<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>防具录入</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!-- Site CSS -->
    <link href="../css/main.min.css" rel="stylesheet">
    <link href="../css/font-awesome.min.css" rel="stylesheet">
    <link href="../css/site.min.css" rel="stylesheet">
    <link rel="stylesheet" href="../css/insertPage.css">

    <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
   <script src="https://cdn.jsdelivr.net/npm/html5shiv@3.7.3/dist/html5shiv.min.js"></script>
   <script src="https://cdn.jsdelivr.net/npm/respond.js@1.4.2/dest/respond.min.js"></script>
 <![endif]-->

    <!-- Favicons -->
    <link rel="apple-touch-icon-precomposed"
        href="https://cdn.jsdelivr.net/npm/@bootcss/www.bootcss.com@0.0.28/dist/ico/apple-touch-icon-precomposed.png">
    <link rel="shortcut icon" href="https://cdn.jsdelivr.net/npm/@bootcss/www.bootcss.com@0.0.28/dist/ico/favicon.ico">

    <!-- 引入发送数据代码 -->
    <script src="../js/sendAndget.js"></script>

</head>

<body>
    <!-- 验证登录 -->
    <script>
        // 放这很危险，最好放后端去
        if (sessionStorage.getItem('user') == null) {
            // alert('请先登录')
            // window.location.href = '/loginpage'
            let turn = confirm('请先登录')
            if (turn) {
                window.location.href = '/loginpage'
            } else {
                // window.location.href = '/'
                window.close()
            }
        }
    </script>
    <!-- 头 -->
    <div class="navbar navbar-inverse navbar-fixed-top">
        <div class="container">
            <div class="navbar-header">
                <button class="navbar-toggle collapsed" type="button" data-toggle="collapse"
                    data-target=".navbar-collapse">
                    <span class="sr-only">Toggle navigation</span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
                <a class="navbar-brand hidden-sm" href="/" onclick="">首页</a>
            </div>
            <div class="navbar-collapse collapse" role="navigation">

                <ul class="nav navbar-nav navbar-right hidden-sm">
                    <li><a href="" onclick="">关于</a>
                    </li>
                </ul>
            </div>
        </div>
    </div>

    <!-- 具体录入 -->

    <div style="padding: 1.5rem; color: #bd2d30;">
        <!-- 说明信息 -->
        <p>该防具录入<b>不包括加装</b>部分，另外，如果PHB列表中没有值的，以0代替，奥数失效率填小数，
            速度有俩就 x/x，如果是减值，请写上负号
        </p>
        <b>例子：皮甲，10金币，2，6，0，0.1，30/20，15磅
    </div>

    <!-- 武器:
    武器名称、价格、伤害值(S)、伤害值(M)、重击、射程增量、重量、伤害类别-->
    <div class="details" style="padding-left: 4rem; float: left;">
        <div>
            <dl>防具名称
                <dt>
                    <input type="text" id="tr0" name="name">
                </dt>
            </dl>
            <dl>价格
                <dt>
                    <input type="text" id="tr1" name="price"
                        onchange="if(/\D/.test(this.value)){alert('价格格式不规范');this.value='';}">金币
                </dt>
            </dl>
            <dl>盔甲或盾牌加值
                <dt>
                    <input type="text" id="tr2" name="acp"
                        onchange="if(/\D/.test(this.value)){alert('盔甲或盾牌价值格式不规范');this.value='';}">
                </dt>
            </dl>
            <dl>最大敏捷加值
                <dt>
                    <input type="text" id="tr3" name="dexp"
                        onchange="if(/\D/.test(this.value)){alert('最大敏捷加值格式不规范');this.value='';}">
                </dt>
            </dl>
            <dl>防具检定减值
                <dt>
                    <input type="text" id="tr4" name="acm"
                        onchange="if(/-?\d/.test(this.value) - 1){alert('防具减值格式不规范');this.value='';}">
                </dt>
            </dl>
            <dl>奥数失效几率
                <dt>
                    <input type="text" id="tr5" name="disspell"
                        onchange="if(/\D/.test(this.value)){alert('奥数失效机率格式不规范');this.value='';}">
                </dt>
            </dl>
            <dl>速度
                <dt>
                    <input type="text" id="tr6" name="speed"
                        onchange="if(/(\d\/)?\d/.test(this.value) - 1){alert('速度格式不规范');this.value='';}">尺
                </dt>
            </dl>
            <dl>重量
                <dt>
                    <input type="text" id="tr7" name="weight"
                        onchange="if(/\D/.test(this.value)){alert('重量格式不规范');this.value='';}">磅
                </dt>
            </dl>
        </div>
    </div>
    <button style="margin-left: 2rem" onclick="sendmsg(8, 'armor')">录入</button>

    <div id="tan">
        <h2>已录入的数据</h2>
        <div id="showMe">
            <p id="con"></p>
        </div>
    </div>

    <button style="margin-left: 2rem" onclick="showData('showArmor')">查看</button>

</body>

</html>